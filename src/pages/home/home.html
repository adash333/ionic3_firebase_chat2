<ion-header>
  <ion-navbar>
    <ion-title>
      Ionic Firebase Chat
    </ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="exitChat()">
        <ion-icon name="exit"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <section class="card">
    <div class="card-body">
      <ng-container *ngFor="let comment of comments">
        <!-- current_user.idとcomment.user.uidが等しくない場合に表示-->
        <ion-grid *ngIf="comment.user.uid !== current_user.uid">
          <ion-row>
            <ion-col col-2 class="media-left">
              <div>
                <a href="#" class="icon-rounded">{{ comment.initial }}</a>
              </div>
            </ion-col>
            <ion-col class="media-body">
              <div>
                <h4 class="media-heading">{{ comment.name }} Date:2016/09/01</h4>
                <div>{{ comment.content }}</div>
              </div>
            </ion-col>
          </ion-row>
          <hr>
        </ion-grid>
        <!-- current_user.idとcomment.user.uidが等しい場合に表示-->
        <ion-grid *ngIf="comment.user.uid === current_user.uid">
          <ion-row>
            <ion-col class="media-body">
              <h4 class="media-heading">{{ comment.user.name }} Date:2016/09/01</h4>
              <div>{{ comment.content }}</div>
            </ion-col>
            <ion-col col-2 class="media-right">
              <a href="#" class="icon-rounded">{{ comment.initial }}</a>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ng-container>
    </div>
  </section>
</ion-content>

<ion-footer>
  <ion-grid>
    <ion-row>
      <ion-col col-10>
        <ion-input type="text" [(ngModel)]="content" name="content" placeholder="Type a message"></ion-input>
      </ion-col>
      <ion-col col-2 (click)="sendMessage()">
        <button ion-button>Send</button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-footer>
